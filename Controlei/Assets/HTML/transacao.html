<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controlei - Nova Transação</title>
    <link rel="stylesheet" href="../CSS/transacao.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    </head>
<body>
    <div class="transaction-container">
        <div class="transaction-box">
            
            <h1>Nova Transação</h1>
            <p class="description">Insira seus gastos, receitas ou transferências de forma simples e intuitiva.</p>

            <div class="type-selector">
                <button type="button" class="type-btn active" data-type="expense">Gasto (Despesa)</button>
                <button type="button" class="type-btn" data-type="income">Receita</button>
                <button type="button" class="type-btn" data-type="transfer">Transferência</button>
            </div>
            
            <form action="#" method="POST" id="transaction-form">
                
                <div class="input-row">
                    <div class="input-group half-width">
                        <label for="value">Valor (R$)</label>
                        <input type="number" id="value" name="value" required placeholder="0,00" step="0.01" min="0">
                    </div>
                    <div class="input-group half-width">
                        <label for="date">Data</label>
                        <input type="date" id="date" name="date" required value="2025-12-02">
                    </div>
                </div>

                <div class="input-group">
                    <label for="description">Descrição</label>
                    <input type="text" id="description" name="description" required placeholder="Ex: Conta de Luz, Salário, Transferência para Poupança">
                </div>

                <div class="input-group category-group">
                    <label for="category">Categoria</label>
                    <select id="category" name="category" required>
                        <option value="" disabled selected>Selecione a Categoria</option>
                        <option value="alimentacao">Alimentação</option>
                        <option value="moradia">Moradia</option>
                        <option value="salario">Salário</option>
                        <option value="outros">Outros</option>
                    </select>
                </div>
                
                <div class="transfer-fields" style="display: none;">
                    <div class="input-group">
                        <label for="from-account">Conta de Origem</label>
                        <select id="from-account" name="from-account">
                            <option value="conta1">Conta Corrente</option>
                            <option value="conta2">Poupança</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="to-account">Conta de Destino</label>
                        <select id="to-account" name="to-account">
                            <option value="conta2">Poupança</option>
                            <option value="conta1">Conta Corrente</option>
                        </select>
                    </div>
                </div>

                <div class="input-group account-group">
                    <label for="account">Conta</label>
                    <select id="account" name="account" required>
                        <option value="conta1">Conta Corrente</option>
                        <option value="conta2">Poupança</option>
                        <option value="conta3">Cartão de Crédito</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="notes">Observações (Opcional)</label>
                    <textarea id="notes" name="notes" rows="3" placeholder="Detalhes adicionais..."></textarea>
                </div>
                
                <button type="submit" class="submit-button">Registrar Transação</button>
                <a href="../HTLM/dashbord.html" class="back-link">← Voltar para o Dashboard</a>
            </form>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const typeBtns = document.querySelectorAll('.type-btn');
            const categoryGroup = document.querySelector('.category-group');
            const accountGroup = document.querySelector('.account-group');
            const transferFields = document.querySelector('.transfer-fields');
            const submitButton = document.querySelector('.submit-button');

            const updateForm = (type) => {
                // Remove 'active' de todos e adiciona no botão clicado
                typeBtns.forEach(btn => btn.classList.remove('active'));
                document.querySelector(`.type-btn[data-type="${type}"]`).classList.add('active');

                // Lógica de visualização
                if (type === 'transfer') {
                    categoryGroup.style.display = 'none';
                    accountGroup.style.display = 'none';
                    transferFields.style.display = 'block';
                    submitButton.textContent = 'Registrar Transferência';
                } else {
                    categoryGroup.style.display = 'block';
                    accountGroup.style.display = 'block';
                    transferFields.style.display = 'none';
                    submitButton.textContent = 'Registrar Transação';
                }
            };

            typeBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    updateForm(btn.getAttribute('data-type'));
                });
            });

            // Inicializa o formulário no modo 'expense' (Gasto)
            updateForm('expense');
        });
    </script>
</body>
</html>